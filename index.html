<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Car World</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body style="background-color: #FFD1DC;"> 


  <div class="container py-4">
    <h2 class="text-center text-primary mb-7">Car World</h2>

    <div class="row shadow  dark p-5 g-4 justify-content-center">
      <div class="col-md-4 shadow">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="text-center text-primary mb-3">Enter Details</h5>
            <form id="form1">
              <div class="mb-3">
                <label class="form-label">Car Brand</label>
                <input type="text" id="brand" class="form-control" placeholder="Car Brand">
              </div>
              <div class="mb-3">
                <label class="form-label">Price</label>
                <input type="text" id="price"class="form-control" placeholder="Price">
              </div>
              <div class="mb-3">
                <label class="form-label">Key</label>
                <input type="text" id="key" class="form-control" placeholder="Key">
              </div>
              <button type="button" onclick="store()" class="btn btn-outline-success w-100">Store Records</button>
            </form>
          </div>
        </div>
     </div>
<div class="col-md-4">
  <div class="card shadow-sm">
    <div class="card-body">
      <h5 class="text-center text-primary mb-3">Enter Key to Retrieve Item</h5>
      <form>
        <div class="mb-3">
          <label class="form-label">Key</label>
          <input type="text" id="rkey" class="form-control" placeholder="Key">
        </div>
        <button type="button" onclick="retrive()" class="btn btn-outline-primary w-100">Retrieve Records</button>
      </form>
      <div id="result"  class="mt-4 p-3 border rounded bg-light text-center">
        <small class="text-muted"></small>
      </div>
    </div>
  </div>
</div>
      <div class="col-md-4">
        <div class="card shadow-sm">
          <div class="card-body">
            <h5 class="text-center text-primary mb-3">Enter Key to Delete Item</h5>
            <form>
              <div class="mb-3">
                <label class="form-label">Key</label>
                <input type="text" id="dkey" class="form-control" placeholder="Key">
              </div>
              <button type="button" onclick="remove()" class="btn btn-outline-danger w-100">Remove Records</button>
            </form>
          </div>
        </div>
      </div>
  <div class="mt-4">
  <button type="button" class="btn btn-dark text-white text-center py-2 rounded w-100" onclick="clearAll()">
    Clear All Records
  </button>
</div>
 </div>
 <script>
    function store(){
        const carDetails={
            brand:brand.value,
            price:price.value,
            key:key.value
        }
        if(carDetails.brand=="" && carDetails.price=="" && carDetails.key==""){
            alert("Please fill car details")
        }
           if( localStorage.getItem(carDetails.key)){
            alert("Key already exist")
           }
           else{
            localStorage.setItem(carDetails.key,JSON.stringify(carDetails))
            alert("Stored Sucessfully")
            document.getElementById("form1").reset();
        }
    }
    function retrive(){
        let retkey=rkey.value;
         let resultbox = document.getElementById("result"); 
         if( retkey==""){
            alert("There is no key enter for retrieval")
         }
          const carDetails = JSON.parse(localStorage.getItem(retkey));
           if (carDetails && carDetails.key == retkey) {
    console.log(carDetails);
    resultbox.innerHTML = `
      <h6 class="text-primary">Employee Found:</h6>
      <p><b>KEY:</b> ${carDetails.key}</p>
      <p><b>BRAND:</b> ${carDetails.brand}</p>
      <p><b>PRICE:</b> ${carDetails.price}</p>
      
    `;
  } else {
    resultbox.innerHTML = `<p class="text-danger mb-0">No employee found with ID: ${retkey}</p>`;
  }
}
function remove(){
      let delKey = document.getElementById("dkey").value;

      if(delKey==""){
        alert("Please enter a key to delete");
        return;
      }

      if(localStorage.getItem(delKey)){
        localStorage.removeItem(delKey);
        alert("Record deleted successfully ");
      } else {
        alert("No record found with this key");
      }
    }
     function clearAll(){
      if(confirm("Are you sure you want to delete ALL records?")){
        localStorage.clear();
        alert("All records cleared ");
        location.reload();
      }
    }

    
 </script>
</body>
</html>
